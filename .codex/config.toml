################################################################################
# Monsoon Fire â€” Codex config.toml
# Location (Windows): C:\Users\micah\.codex\config.toml
################################################################################

# Model defaults
model = "gpt-5.2-codex"
review_model = "gpt-5.2-codex"
model_provider = "openai"

# Good dev ergonomics without going wild
approval_policy = "on-request"
sandbox_mode = "workspace-write"
model_reasoning_effort = "high"
model_reasoning_summary = "auto"
model_verbosity = "medium"

# Optional: inject small global developer instructions (AGENTS.md still does the heavy lifting)
developer_instructions = """
Monsoon Fire Portal: prefer full-file outputs, one file per change unless explicitly asked.
Keep UI logic thin and portable to iOS. Never write undefined to Firestore.
When changing HTTP calls, capture last payload/response/status and include a curl equivalent when possible.
"""

# Project doc embedding controls (helps when AGENTS.md gets long)
project_doc_max_bytes = 32768
project_doc_fallback_filenames = []

# Basic CLI auth storage defaults (fine to leave)
cli_auth_credentials_store = "file"
mcp_oauth_credentials_store = "auto"

################################################################################
# Feature flags
################################################################################
[features]
# Lets the model request web searches (separate from MCP; optional but handy)
web_search_request = true
# Speeds repeated commands by snapshotting shell env
shell_snapshot = true
# Keep conservative defaults for the rest
shell_tool = true
unified_exec = false
apply_patch_freeform = false
exec_policy = true

################################################################################
# Sandbox config (only used when sandbox_mode = "workspace-write")
################################################################################
[sandbox_workspace_write]
# Allow writing to workspace; no extra writable roots
writable_roots = []
# You probably want this ON for npm installs, Firebase, etc.
network_access = true

################################################################################
# MCP servers
################################################################################

# Context7: developer documentation MCP
# Recommended way (works well on mac/linux; often works on Windows too):
[mcp_servers.context7]
enabled = true
command = "npx"
args = ["-y", "@upstash/context7-mcp"]
startup_timeout_sec = 30
tool_timeout_sec = 60

# If Windows has trouble finding `npx` or times out, disable the block above and
# use this alternative wrapper approach instead (uncomment to use):
#
# [mcp_servers.context7]
# enabled = true
# command = "cmd"
# args = ["/c", "npx", "-y", "@upstash/context7-mcp"]
# startup_timeout_sec = 60
# tool_timeout_sec = 60

################################################################################
# Skills (per-skill overrides)
# Skills are discovered from:
# - repo: <repo>/.codex/skills/**/SKILL.md
# - user: ~/.codex/skills/**/SKILL.md
################################################################################

# Example: disable a specific skill without deleting it (optional)
# [[skills.config]]
# path = "C:\\Users\\micah\\.codex\\skills\\some-skill"
# enabled = false

################################################################################
# Profiles (optional presets)
################################################################################
profile = "monsoonfire"

[profiles.monsoonfire]
model = "gpt-5.2-codex"
review_model = "gpt-5.2-codex"
approval_policy = "on-request"
sandbox_mode = "workspace-write"
model_reasoning_effort = "high"
model_reasoning_summary = "auto"
model_verbosity = "medium"
