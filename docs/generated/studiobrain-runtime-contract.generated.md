# Studiobrain Runtime Contract (Generated)

> Generated by `npm run docs:contract`. Do not hand-edit.

## Sources
- Schema: `studio-brain/.env.contract.schema.json`
- Network profile: `studio-brain/.env.network.profile`

## Contract Summary
- Schema version: `1.0.0`
- Variables tracked: `82`
- Required variables: `15`
- Optional variables: `67`
- Sensitive variables (redacted defaults): `6`

## Network Profile Snapshot
| Field | Value |
| --- | --- |
| Requested profile | lan-static |
| Resolved profile | lan-static |
| Network mode | static |
| Resolved host | 192.168.1.226 |
| Resolved port | 8787 |
| Resolved base URL | http://192.168.1.226:8787 |
| Host source | STUDIO_BRAIN_STATIC_IP = 192.168.1.226 |
| Profile source | network profile file |
| Host state file | .studiobrain-host-state.json |
| Static LAN assignment | 192.168.1.226 |

## Core Endpoint Contract
| Surface | Value |
| --- | --- |
| Studio Brain API | http://192.168.1.226:8787 |
| Functions emulator | http://192.168.1.226:5001/monsoonfire-portal/us-central1 |
| Auth emulator | 192.168.1.226:9099 |
| Firestore emulator | 192.168.1.226:8080 |

## Environment Variable Contract
| Key | Type | Required | Default |
| --- | --- | --- | --- |
| FIREBASE_PROJECT_ID | string | no |  |
| GOOGLE_APPLICATION_CREDENTIALS | string | no |  |
| PGDATABASE | string | yes | monsoonfire_studio_os |
| PGHOST | string | yes | 127.0.0.1 |
| PGPASSWORD | string | yes | (redacted) |
| PGPORT | integer | yes | 5433 |
| PGSSLMODE | string | no | disable |
| PGUSER | string | yes | postgres |
| PREFLIGHT_TIMEOUT_MS | integer | no | 2000 |
| REDIS_COMMAND_TIMEOUT_MS | integer | no | 5000 |
| REDIS_CONNECT_TIMEOUT_MS | integer | no | 5000 |
| REDIS_HOST | string | yes | 127.0.0.1 |
| REDIS_PASSWORD | string | no | (redacted) |
| REDIS_PORT | integer | yes | 6379 |
| REDIS_USERNAME | string | no |  |
| STRIPE_MODE | string | no | test |
| STUDIO_BRAIN_ADMIN_TOKEN | string | no | (redacted) |
| STUDIO_BRAIN_ALLOWED_HOSTS | string | no |  |
| STUDIO_BRAIN_ALLOWED_ORIGINS | string | no | http://127.0.0.1:5173,http://localhost:5173 |
| STUDIO_BRAIN_ALLOWED_TENANT_IDS | string | no | monsoonfire-main |
| STUDIO_BRAIN_ARTIFACT_STORE_ACCESS_KEY | string | yes | (redacted) |
| STUDIO_BRAIN_ARTIFACT_STORE_BUCKET | string | yes | studiobrain-artifacts |
| STUDIO_BRAIN_ARTIFACT_STORE_ENDPOINT | url | yes | http://127.0.0.1:9010 |
| STUDIO_BRAIN_ARTIFACT_STORE_SECRET_KEY | string | yes | (redacted) |
| STUDIO_BRAIN_ARTIFACT_STORE_TIMEOUT_MS | integer | no | 5000 |
| STUDIO_BRAIN_ARTIFACT_STORE_USE_SSL | boolean | no | false |
| STUDIO_BRAIN_DEFAULT_TENANT_ID | string | no | monsoonfire-main |
| STUDIO_BRAIN_DHCP_HOST | string | no |  |
| STUDIO_BRAIN_ENABLE_RETENTION_PRUNE | boolean | no | false |
| STUDIO_BRAIN_ENABLE_STARTUP_COMPUTE | boolean | no | true |
| STUDIO_BRAIN_ENABLE_WRITE_EXECUTION | boolean | no | false |
| STUDIO_BRAIN_EVENT_BUS_BATCH_SIZE | integer | no | 32 |
| STUDIO_BRAIN_EVENT_BUS_POLL_INTERVAL_MS | integer | no | 750 |
| STUDIO_BRAIN_EVENT_BUS_START_ID | string | no | $ |
| STUDIO_BRAIN_FIRESTORE_QUERY_TIMEOUT_MS | integer | no | 20000 |
| STUDIO_BRAIN_FUNCTIONS_BASE_URL | url | no | https://us-central1-monsoonfire-portal.cloudfunctions.net |
| STUDIO_BRAIN_HOST | string | yes | 127.0.0.1 |
| STUDIO_BRAIN_HOST_STATE_FILE | string | no | .studiobrain-host-state.json |
| STUDIO_BRAIN_JOB_INITIAL_DELAY_MS | integer | no | 0 |
| STUDIO_BRAIN_JOB_INTERVAL_MS | integer | no | 900000 |
| STUDIO_BRAIN_JOB_JITTER_MS | integer | no | 0 |
| STUDIO_BRAIN_LAN_HOST | string | no | studiobrain.local |
| STUDIO_BRAIN_LOCAL_HOST | string | no | 127.0.0.1 |
| STUDIO_BRAIN_LOG_LEVEL | string | no | info |
| STUDIO_BRAIN_NETWORK_PROFILE | string | no | local |
| STUDIO_BRAIN_OTEL_ENABLED | boolean | no | false |
| STUDIO_BRAIN_OTEL_ENDPOINT | url | no |  |
| STUDIO_BRAIN_OTEL_SERVICE_NAME | string | no | studiobrain |
| STUDIO_BRAIN_PG_CONNECTION_TIMEOUT_MS | integer | no | 10000 |
| STUDIO_BRAIN_PG_IDLE_TIMEOUT_MS | integer | no | 30000 |
| STUDIO_BRAIN_PG_POOL_MAX | integer | no | 10 |
| STUDIO_BRAIN_PG_QUERY_TIMEOUT_MS | integer | no | 5000 |
| STUDIO_BRAIN_PORT | integer | yes | 8787 |
| STUDIO_BRAIN_READY_MAX_SNAPSHOT_AGE_MINUTES | integer | no | 240 |
| STUDIO_BRAIN_REDIS_STREAM_NAME | string | yes | studiobrain.events |
| STUDIO_BRAIN_REQUIRE_APPROVAL_FOR_EXTERNAL_WRITES | boolean | no | true |
| STUDIO_BRAIN_REQUIRE_FRESH_SNAPSHOT_FOR_READY | boolean | no | false |
| STUDIO_BRAIN_RETENTION_DAYS | integer | no | 180 |
| STUDIO_BRAIN_SCAN_LIMIT | integer | no | 2000 |
| STUDIO_BRAIN_SKILL_ALLOWLIST | string | no |  |
| STUDIO_BRAIN_SKILL_DENYLIST | string | no |  |
| STUDIO_BRAIN_SKILL_INSTALL_ROOT | string | yes | /var/lib/studiobrain/skills |
| STUDIO_BRAIN_SKILL_REGISTRY_LOCAL_PATH | string | no | ./skills-registry |
| STUDIO_BRAIN_SKILL_REGISTRY_REMOTE_BASE_URL | url | no |  |
| STUDIO_BRAIN_SKILL_REQUIRE_CHECKSUM | boolean | no | true |
| STUDIO_BRAIN_SKILL_REQUIRE_PINNING | boolean | no | true |
| STUDIO_BRAIN_SKILL_REQUIRE_SIGNATURE | boolean | no | false |
| STUDIO_BRAIN_SKILL_RUNTIME_ALLOWLIST | string | no |  |
| STUDIO_BRAIN_SKILL_SANDBOX_EGRESS_ALLOWLIST | string | no |  |
| STUDIO_BRAIN_SKILL_SANDBOX_EGRESS_DENY | boolean | no | true |
| STUDIO_BRAIN_SKILL_SANDBOX_ENABLED | boolean | no | true |
| STUDIO_BRAIN_SKILL_SANDBOX_ENTRY_TIMEOUT_MS | integer | no | 15000 |
| STUDIO_BRAIN_SKILL_SIGNATURE_TRUST_KEYS | string | no | (redacted) |
| STUDIO_BRAIN_STATIC_IP | string | no |  |
| STUDIO_BRAIN_STRIPE_READER_MODE | string | no | auto |
| STUDIO_BRAIN_STRIPE_READ_ONLY | boolean | no | true |
| STUDIO_BRAIN_SWARM_EVENT_POLL_MS | integer | no | 1000 |
| STUDIO_BRAIN_SWARM_ID | string | no | default-swarm |
| STUDIO_BRAIN_SWARM_ORCHESTRATOR_ENABLED | boolean | no | false |
| STUDIO_BRAIN_SWARM_RUN_ID | string | no |  |
| STUDIO_BRAIN_VECTOR_STORE_ENABLED | boolean | no | false |
| STUDIO_BRAIN_VECTOR_STORE_TABLE | string | no | swarm_memory |

## Update Workflow
1. Edit `studio-brain/.env.contract.schema.json` or `studio-brain/.env.network.profile`.
2. Run `npm run docs:contract`.
3. Validate drift with `npm run docs:contract:check` in PR checks.

Source digest: `e1e3f05a31ff3c5e0aabee3c0a12aa20d2d7d63e7a4556b33e2fd20edf0af360`
