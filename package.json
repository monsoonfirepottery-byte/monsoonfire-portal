{
  "scripts": {
    "test:rules": "npx firebase-tools emulators:exec --config firebase.emulators.local.json --project monsoonfire-portal --only firestore \"node --test scripts/rules/directMessages.rules.test.mjs\"",
    "verify:local": "npm run test:rules && npm --prefix functions run build && npm --prefix functions run lint && npm --prefix web run build && npm --prefix web run lint",
    "emulators:start": "node ./scripts/start-emulators.mjs",
    "seed:emulators": "FIREBASE_AUTH_EMULATOR_HOST=${FIREBASE_AUTH_EMULATOR_HOST:-127.0.0.1:9099} FIRESTORE_EMULATOR_HOST=${FIRESTORE_EMULATOR_HOST:-127.0.0.1:8085} node ./functions/scripts/seed-emulators.mjs",
    "bootstrap": "npm install && npm --prefix functions install && npm --prefix studio-brain install && npm --prefix web install",
    "build:web": "npm --prefix web run build",
    "build:functions": "npm --prefix functions run build",
    "deploy": "npx firebase-tools deploy --project monsoonfire-portal --non-interactive",
    "deploy:functions": "npx firebase-tools deploy --project monsoonfire-portal --only functions --non-interactive",
    "deploy:hosting": "npx firebase-tools deploy --project monsoonfire-portal --only hosting --non-interactive",
    "deploy:functions-hosting": "npx firebase-tools deploy --project monsoonfire-portal --only functions,hosting --non-interactive",
    "deploy:namecheap": "node ./scripts/deploy-namecheap-portal.mjs",
    "deploy:namecheap:all": "bash ./scripts/deploy-namecheap-live.sh",
    "deploy:namecheap:all:quick": "bash ./scripts/deploy-namecheap-live.sh --no-build",
    "deploy:namecheap:auto": "bash ./scripts/deploy-namecheap-portal-live.sh",
    "deploy:namecheap:verify": "bash ./scripts/deploy-namecheap-portal-live.sh --verify",
    "deploy:namecheap:portal": "npm run deploy:namecheap -- --remote-path portal/ --verify --portal-url https://portal.monsoonfire.com",
    "deploy:namecheap:website": "node ./website/scripts/deploy.mjs --source ./website/ncsitebuilder",
    "deploy:namecheap:portal:quick": "npm run deploy:namecheap:portal -- --no-build",
    "deploy:namecheap:portal:live": "bash ./scripts/deploy-namecheap-portal-live.sh",
    "website:smoke:playwright": "node ./scripts/website-playwright-smoke.mjs",
    "functions:smoke:cors": "node ./scripts/functions-cors-smoke.mjs",
    "cutover:checklist": "node ./scripts/run-external-cutover-checklist.mjs",
    "website:smoke:playwright:prod": "node ./scripts/website-playwright-smoke.mjs --base-url https://monsoonfire.com --output-dir output/playwright/prod",
    "website:smoke:playwright:install": "npx playwright install chromium",
    "website:serve": "node ./website/scripts/serve.mjs",
    "website:serve:ab": "node ./website/scripts/serve-ab.mjs",
    "website:serve:ncsitebuilder": "node ./website/ncsitebuilder/scripts/serve.mjs",
    "website:serve:ncsitebuilder:ab": "node ./website/scripts/serve-ab.mjs --root ./website/ncsitebuilder",
    "website:deploy:ncsitebuilder": "node ./website/scripts/deploy.mjs",
    "website:deploy:preview": "node ./scripts/deploy-namecheap-preview.mjs",
    "test:e2e": "npx playwright test -c website/playwright.config.mjs",
    "test:e2e:headed": "npx playwright test -c website/playwright.config.mjs --headed",
    "test:e2e:dev": "BASE_URL=${BASE_URL:?Set BASE_URL to your preview URL} npx playwright test -c website/playwright.config.mjs",
    "portal:smoke:playwright": "node ./scripts/portal-playwright-smoke.mjs --output-dir output/playwright/portal",
    "portal:smoke:playwright:prod": "node ./scripts/portal-playwright-smoke.mjs --base-url https://monsoonfire-portal.web.app --output-dir output/playwright/portal/prod",
    "portal:smoke:playwright:deep": "node ./scripts/portal-playwright-smoke.mjs --base-url https://monsoonfire-portal.web.app --output-dir output/playwright/portal/deep --deep",
    "portal:smoke:playwright:install": "npx playwright install chromium",
    "lint:policies": "node website/scripts/lint-policies.mjs",
    "test:web": "npm --prefix web run test:run",
    "test:functions": "npm --prefix functions run test",
    "test:studio-brain": "npm --prefix studio-brain run test",
    "test:unit": "npm run test:all",
    "test:full": "npm run test:automation",
    "test:all": "npm run test:functions && npm run test:studio-brain && npm run test:web",
    "test:automation:unit": "npm run test:all",
    "studio-brain:auth-probe": "node ./scripts/test-studio-brain-auth.mjs",
    "test:automation:gateway": "npm run functions:smoke:cors",
    "test:automation:checks": "npm --prefix web run a11y:smoke",
    "test:automation:ui": "npm run website:smoke:playwright && npm run portal:smoke:playwright",
    "test:automation:ui:deep": "npm run portal:smoke:playwright:deep",
    "test:automation:bundle": "npm run build:web && npm run studio:host:contract:scan && npm run check:studio-brain:bundle",
    "test:automation": "npm run test:automation:unit && npm run test:automation:gateway && npm run test:automation:checks && npm run test:automation:ui && npm run test:automation:bundle",
    "test:automation:deep": "npm run test:automation && npm run functions:smoke:cors -- --base-url https://us-central1-monsoonfire-portal.cloudfunctions.net --origin https://monsoonfire-portal.web.app && npm run test:automation:ui:deep",
    "test": "npm run test:full",
    "check:studio-brain:bundle": "node ./scripts/check-studio-brain-bundle.mjs web/dist",
    "studio:env:validate": "npm --prefix studio-brain run env:validate",
    "guardrails:check": "node ./scripts/stability-guardrails.mjs",
    "guardrails:check:strict": "node ./scripts/stability-guardrails.mjs --strict --json",
    "studio:status": "node ./scripts/studiobrain-status.mjs",
    "studio:check": "node ./scripts/studiobrain-status.mjs --gate",
    "studio:check:safe": "node ./scripts/studiobrain-status.mjs --require-safe",
    "studio:network:check": "node ./scripts/studiobrain-network-check.mjs",
    "studio:network:check:write-state": "node ./scripts/studiobrain-network-check.mjs --write-state",
    "studio:network:check:gate": "node ./scripts/studiobrain-network-check.mjs --gate",
    "studio:stack:profile:snapshot": "node ./scripts/studio-stack-profile-snapshot.mjs --json",
    "studio:stack:profile:snapshot:strict": "node ./scripts/studio-stack-profile-snapshot.mjs --strict --json",
    "studio:emulator:contract:check": "node ./scripts/validate-emulator-contract.mjs",
    "studio:emulator:contract:check:strict": "node ./scripts/validate-emulator-contract.mjs --strict",
    "studio:cutover:gate": "node ./scripts/studio-cutover-gate.mjs",
    "cutover:smoke": "node ./scripts/studio-cutover-gate.mjs",
    "studio:host:contract:scan": "node ./scripts/scan-studiobrain-host-contract.mjs",
    "studio:host:contract:scan:strict": "node ./scripts/scan-studiobrain-host-contract.mjs --strict",
    "functions:type-safety:scan": "node ./scripts/check-functions-type-safety.mjs",
    "integrity:check": "node ./scripts/integrity-check.mjs",
    "integrity:check:strict": "node ./scripts/integrity-check.mjs --strict",
    "integrity:update": "node ./scripts/integrity-check.mjs --update",
    "pr:gate": "node ./scripts/pr-gate.mjs",
    "reliability:once": "node ./scripts/reliability-hub.mjs once",
    "reliability:watch": "node ./scripts/reliability-hub.mjs watch",
    "reliability:report": "node ./scripts/reliability-hub.mjs report --json",
    "backup:verify": "node ./scripts/studiobrain-backup-drill.mjs verify",
    "backup:verify:freshness": "node ./scripts/studiobrain-backup-drill.mjs verify --freshness-only --json --strict",
    "backup:restore:drill": "node ./scripts/studiobrain-backup-drill.mjs restore-drill --strict",
    "incident:bundle": "node ./scripts/studiobrain-incident-bundle.mjs",
    "ops:cockpit:start": "node ./scripts/ops-cockpit.mjs start",
    "ops:cockpit:status": "node ./scripts/ops-cockpit.mjs status",
    "ops:cockpit:stop": "node ./scripts/ops-cockpit.mjs stop",
    "ops:cockpit:bundle": "node ./scripts/ops-cockpit.mjs bundle",
    "ops:cockpit:reset": "node ./scripts/ops-cockpit.mjs reset",
    "cutover-watchdog": "node ./scripts/cutover-watchdog.mjs",
    "cutover-watchdog:once": "node ./scripts/cutover-watchdog.mjs once",
    "cutover-watchdog:watch": "node ./scripts/cutover-watchdog.mjs watch",
    "audit:platform:refs": "node ./scripts/ralph-platform-reference-audit.mjs",
    "audit:platform:refs:strict": "node ./scripts/ralph-platform-reference-audit.mjs --strict --skip-tickets --max-actionable 0 --json",
    "audit:platform:refs:strict:all": "node ./scripts/ralph-platform-reference-audit.mjs --strict --max-actionable 138 --json",
    "source:truth:contract": "node ./scripts/source-of-truth-contract-matrix.mjs",
    "source:truth:contract:strict": "node ./scripts/source-of-truth-contract-matrix.mjs --strict --json",
    "docs:contract": "node ./scripts/generate-runtime-docs.mjs",
    "docs:contract:check": "node ./scripts/generate-runtime-docs.mjs --check --json",
    "source:truth:deployment": "node ./scripts/source-of-truth-deployment-gates.mjs --strict --json",
    "source:truth:index": "node ./scripts/source-of-truth-index-audit.mjs",
    "source:truth:index:strict": "node ./scripts/source-of-truth-index-audit.mjs --strict --json",
    "source:truth:deployment:production": "node ./scripts/source-of-truth-deployment-gates.mjs --phase production --strict --json",
    "smoke:phased": "node ./scripts/phased-smoke-gate.mjs --json --strict",
    "well-known:validate": "node ./scripts/validate-well-known.mjs --json",
    "well-known:validate:strict": "node ./scripts/validate-well-known.mjs --strict --json",
    "mobile:store-readiness": "node ./scripts/mobile-store-readiness-gate.mjs --json --strict",
    "epics": "node ./scripts/epic-hub.mjs",
    "epics:jsonl": "node ./scripts/epic-hub.mjs --jsonl",
    "epics:work": "node ./scripts/epic-hub.mjs work",
    "epics:work:jsonl": "node ./scripts/epic-hub.mjs work --jsonl",
    "epics:next": "node ./scripts/epic-hub.mjs next",
    "epics:next:jsonl": "node ./scripts/epic-hub.mjs next --jsonl",
    "epics:swarm": "node ./scripts/epic-hub.mjs swarm",
    "epics:swarm:md": "node ./scripts/epic-hub.mjs swarm --markdown",
    "epics:swarm:json": "node ./scripts/epic-hub.mjs swarm --json",
    "epics:swarm:jsonl": "node ./scripts/epic-hub.mjs swarm --jsonl",
    "epics:agentic": "node ./scripts/epic-hub.mjs agentic",
    "epics:agentic:json": "node ./scripts/epic-hub.mjs agentic --json",
    "epics:agentic:jsonl": "node ./scripts/epic-hub.mjs agentic --jsonl",
    "epics:agentic:run": "node ./scripts/epic-hub-runner.mjs --epic 1-8 --jsonl",
    "epics:agentic:run:md": "node ./scripts/epic-hub-runner.mjs --epic 1-8",
    "epics:work:md": "node ./scripts/epic-hub.mjs work --markdown",
    "epics:json": "node ./scripts/epic-hub.mjs --json",
    "epics:show": "node ./scripts/epic-hub.mjs show"
  },
  "engines": {
    "node": "22"
  },
  "dependencies": {
    "@openai/codex": "^0.91.0",
    "firebase": "^12.8.0",
    "firebase-functions": "^7.0.5"
  },
  "devDependencies": {
    "@firebase/rules-unit-testing": "^5.0.0",
    "@axe-core/playwright": "^4.11.1",
    "@playwright/test": "^1.58.2",
    "playwright": "^1.58.2"
  },
  "overrides": {
    "qs": "^6.14.2"
  }
}
