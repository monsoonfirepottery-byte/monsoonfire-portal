STUDIO_BRAIN_HOST=127.0.0.1
STUDIO_BRAIN_PORT=8787
STUDIO_BRAIN_LOG_LEVEL=info
STUDIO_BRAIN_ALLOWED_ORIGINS=http://127.0.0.1:5173,http://localhost:5173

# Optional: required for protected capability endpoints when set.
# STUDIO_BRAIN_ADMIN_TOKEN=replace_with_local_admin_token

# Worker and readiness behavior
STUDIO_BRAIN_JOB_INTERVAL_MS=900000
STUDIO_BRAIN_JOB_INITIAL_DELAY_MS=0
STUDIO_BRAIN_JOB_JITTER_MS=0
STUDIO_BRAIN_ENABLE_STARTUP_COMPUTE=true
STUDIO_BRAIN_SCAN_LIMIT=2000
STUDIO_BRAIN_FIRESTORE_QUERY_TIMEOUT_MS=20000
STUDIO_BRAIN_REQUIRE_FRESH_SNAPSHOT_FOR_READY=false
STUDIO_BRAIN_READY_MAX_SNAPSHOT_AGE_MINUTES=240
STUDIO_BRAIN_ENABLE_RETENTION_PRUNE=false
STUDIO_BRAIN_RETENTION_DAYS=180

STUDIO_BRAIN_ENABLE_WRITE_EXECUTION=false
STUDIO_BRAIN_REQUIRE_APPROVAL_FOR_EXTERNAL_WRITES=true
STUDIO_BRAIN_FUNCTIONS_BASE_URL=https://us-central1-monsoonfire-portal.cloudfunctions.net
STUDIO_BRAIN_DEFAULT_TENANT_ID=monsoonfire-main
STUDIO_BRAIN_ALLOWED_TENANT_IDS=monsoonfire-main

STUDIO_BRAIN_STRIPE_READ_ONLY=true
STRIPE_MODE=test

# PostgreSQL (primary shared state)
PGHOST=127.0.0.1
PGPORT=5433
PGDATABASE=monsoonfire_studio_os
PGUSER=postgres
PGPASSWORD=replace_with_local_db_password
PGSSLMODE=disable
STUDIO_BRAIN_PG_POOL_MAX=10
STUDIO_BRAIN_PG_IDLE_TIMEOUT_MS=30000
STUDIO_BRAIN_PG_CONNECTION_TIMEOUT_MS=10000
STUDIO_BRAIN_PG_QUERY_TIMEOUT_MS=5000

# Redis (used for bus + lightweight queue)
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
# REDIS_USERNAME=<optional>
# REDIS_PASSWORD=<optional>
REDIS_CONNECT_TIMEOUT_MS=5000
REDIS_COMMAND_TIMEOUT_MS=5000

# Event bus settings (Redis Streams)
STUDIO_BRAIN_REDIS_STREAM_NAME=studiobrain.events
STUDIO_BRAIN_EVENT_BUS_POLL_INTERVAL_MS=750
STUDIO_BRAIN_EVENT_BUS_BATCH_SIZE=32
STUDIO_BRAIN_EVENT_BUS_START_ID=$

# Swarm orchestration behavior
STUDIO_BRAIN_SWARM_ORCHESTRATOR_ENABLED=false
STUDIO_BRAIN_SWARM_ID=default-swarm
STUDIO_BRAIN_SWARM_RUN_ID=
STUDIO_BRAIN_SWARM_EVENT_POLL_MS=1000

# Artifact store (MinIO in local stack)
STUDIO_BRAIN_ARTIFACT_STORE_ENDPOINT=http://127.0.0.1:9000
STUDIO_BRAIN_ARTIFACT_STORE_BUCKET=studiobrain-artifacts
STUDIO_BRAIN_ARTIFACT_STORE_ACCESS_KEY=replace_with_local_minio_access_key
STUDIO_BRAIN_ARTIFACT_STORE_SECRET_KEY=replace_with_local_minio_secret_key
STUDIO_BRAIN_ARTIFACT_STORE_USE_SSL=false
STUDIO_BRAIN_ARTIFACT_STORE_TIMEOUT_MS=5000

# Vector store (pgvector)
STUDIO_BRAIN_VECTOR_STORE_ENABLED=true
STUDIO_BRAIN_VECTOR_STORE_TABLE=swarm_memory

# Skill registry and installation
STUDIO_BRAIN_SKILL_REGISTRY_LOCAL_PATH=./skills-registry
# STUDIO_BRAIN_SKILL_REGISTRY_REMOTE_BASE_URL=https://registry.example
STUDIO_BRAIN_SKILL_INSTALL_ROOT=/var/lib/studiobrain/skills
STUDIO_BRAIN_SKILL_REQUIRE_PINNING=true
STUDIO_BRAIN_SKILL_REQUIRE_CHECKSUM=true
STUDIO_BRAIN_SKILL_REQUIRE_SIGNATURE=false
STUDIO_BRAIN_SKILL_ALLOWLIST=
STUDIO_BRAIN_SKILL_DENYLIST=

# Skill sandbox execution controls
STUDIO_BRAIN_SKILL_SANDBOX_ENABLED=true
STUDIO_BRAIN_SKILL_SANDBOX_EGRESS_DENY=true
STUDIO_BRAIN_SKILL_SANDBOX_EGRESS_ALLOWLIST=
STUDIO_BRAIN_SKILL_SANDBOX_ENTRY_TIMEOUT_MS=15000
# Whitelisted skill command names (comma separated). Empty means no command-level restriction.
STUDIO_BRAIN_SKILL_RUNTIME_ALLOWLIST=

# OpenTelemetry (optional)
STUDIO_BRAIN_OTEL_ENABLED=false
STUDIO_BRAIN_OTEL_ENDPOINT=http://127.0.0.1:4317
STUDIO_BRAIN_OTEL_SERVICE_NAME=studiobrain

# Optional cloud identity hints:
# FIREBASE_PROJECT_ID=monsoonfire-portal
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json
