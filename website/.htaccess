<IfModule mod_rewrite.c>
  RewriteEngine On

  # Never rewrite well-known association files
  RewriteRule ^\.well-known/ - [L]

  # Never rewrite assets folder
  RewriteRule ^assets/ - [L]

  # If file exists, serve it
  RewriteCond %{REQUEST_FILENAME} -f
  RewriteRule ^ - [L]

  # If directory exists, serve it
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]

  # SPA fallback
  RewriteRule ^ index.html [L]
</IfModule>



<IfModule mod_headers.c>
  # Vite build output is content-hashed under /assets. Cache aggressively.
  <FilesMatch "^assets/.*\\.(js|css|map|png|jpg|jpeg|gif|svg|webp|ico|woff2?)$">
    Header set Cache-Control "public, max-age=31536000, immutable"
  </FilesMatch>

  # Keep HTML fresh to pick up new deployments quickly.
  <FilesMatch "^index\\.html$">
    Header set Cache-Control "no-cache"
  </FilesMatch>
</IfModule>

